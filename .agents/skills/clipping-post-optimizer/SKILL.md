---
name: clipping-post-optimizer
description: 优化项目中的 clipping 译文内容。适用于清理译文标题中的冗余英文，精准对齐中文正文与英文原文的引用脚注格式，并确保超链接同步。
---

# Clipping Post Optimizer

本 Skill 用于自动化和标准化 Quartz 项目中 `content/translates/` 目录下译文文件的后续优化工作。

## 优化规则

### 1. 标题清理 (Heading Cleanup)

- 对于所有二级标题 (`##`) 及更低级别的标题，如果同时包含英文和中文，**仅保留中文部分**。
- **例外**：如果英文部分是专有名词且没有合适的中文翻译，或者标题仅由英文组成，则保持不变。
- 移除标题中由于自动翻译产生的冗余层级或编号。

### 2. 脚注精准对齐 (Footnote Alignment)

- 确保中文正文中的引用脚注格式统一为 `[^...]`。
- **核心对齐原则**：中文段落中的引用脚注数量、内容及编号必须与紧邻的上方英文原文段落**严格一一对应**。
- 修正自动翻译中可能出现的格式错误，例如：
  - 将 `\[ 13\]` 修正为 `[^13]`。
  - 将合并的引用如 `[^35, 2, 5]` 根据原文拆分或简化（若原文仅有一个引用）。
  - 移除中文段落中多余的引用参考。

### 3. 超链接同步 (Hyperlink Alignment)

- **核心对齐原则**：如果英文原文段落中包含超链接 `[Text](URL)`，中文译文段落必须在对应的中文词汇或短语上提供**完全相同**的超链接。
- 确保链接地址 (URL) 保持不变。

### 4. 段落格式

- 保持中英文对照的排版结构。
- 确保中英文段落之间有适当的空行或换行符（遵循项目现有风格）。

## 工作流

1. **读取文件**：全面阅读待优化的 Markdown 文件。
2. **分析结构**：识别所有中英文对照段落及各级标题。
3. **逐段对比**：
   - 检查标题是否符合“仅保留中文”规则。
   - 逐段对比中英文引用脚注，发现并修正不一致之处。
   - 检查并补全中文译文中的超链接，确保与英文原文同步。
4. **格式应用**：统一应用标准 Markdown 语法。
5. **验证**：最后通读一遍，确保没有破坏 Markdown 语法或数学公式（MathJax）。
